<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>TDD</title>

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/black.css">
		<link rel="stylesheet" href="css/styles.css">

		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>
	</head>
	<body>
		<div class="reveal">
			<div class="slides">
				<section>
					<h4>Introduction</h4>
					<section style="font-size: 20pt;">
					<table>
						<tbody>
							<tr><td>9:10</td><td>Laptop setup double check</td></tr>
							<tr><td>9:20</td><td>Unit Testing</td></tr>
							<tr><td>10:00</td><td>Exercise: Basic Unit testing</td></tr>
							<tr><td>11:00</td><td>Unit Testing & TDD</td></tr>
							<tr><td>11:10</td><td>Exercise: Legacy Code 1</td></tr>
							<tr><td>11:30</td><td>Code Retreat!</td></tr>
							<tr><td>12:00</td><td>Lunch</td></tr>
							<tr><td>13:30</td><td>Kinds of tests</td></tr>
							<tr><td>14:00</td><td>Exercise: Integrated TDD</td></tr>
							<tr><td>16:50</td><td>What did we learn?</td></tr>
						</tbody>
					</table>
					</section>
				</section>

				<section>
					<section>
						<h2>TDD vs.<br/>Unit testing</h2>
						<img src="img/nunit.png"/>
					</section>
					<section>
						<h2>What is Unit Testing</h2>
						<ul>
						<li>Test Harnass<br/>&nbsp;&nbsp;&nbsp;&nbsp;eg. JUnit, MSTest</li>
						<li>Assertion Framework <br/>&nbsp;&nbsp;&nbsp;eg. <span class="inlinecode">assertThat(actual).IsEqualTo(expected);</span></li>
						<li>TDD</li>
						</ul>
					</section>
				</section>

				<section>

					<section>
						<h4>Why Unit Test?</h4>
                        <img src="img/waaromunittesten.jpg" />
					</section>

					<section>
						<h4>Why Unit Test?</h4>
						<ul>
						<li><strong>Early Feedback!</strong></li>
						<li>Think from an API perspective</li>
						<li>Easy for your pair to follow along with your thought process</li>
						<li>Cover all possible paths</li>
						<li>Documentation</li>
						</ul>
					</section>

					<section data-background="img/speculaas.jpg">
						<blockquote class="darker">
						<h2>Exercise: basic unit testing in <strong>Javascript</strong></h2>
						<h4>Easy enough for all levels</h4>
						<a href="https://github.com/Sch3lp/tdd-course-exercise-1">Exercise 1: speculaas</a>
						</blockquote>
					</section>
					<section>
						<h4>Unit testing in JS</h4>
						<p>
							<a href="http://jasmine.github.io/2.5/introduction.html" target="_blank"><img src="img/jasmine-horizontal.png" alt="jasmine logo" /></a>
						</p>

						<pre><code>
		describe("A suite", function() {
		  it("contains spec with an expectation", function() {
		    expect(true).toBe(true);
		  });
		});
						</code></pre>

						Describes <strong>behavior</strong><br/>
						Java (AssertJ) equiv.: <span class="inlinecode">assertThat(true).IsEqualTo(true);</span>
					</section>
					<section>
						<h4>Unit testing in JS</h4>
						
						<p>
							How to run? <span class="inlinecode">runtests.html</span><br/>
							<img src="img/howtorun_js.png" alt="how to run JS tests" width="70%"/>
						</p>
					</section>
				</section>

				<section>
					<section>
						<h4>Properties of a good test</h4>
						<ul>
							<li>Readable</li>
							<li>Fast &amp; Focused (tests exactly one thing)</li>
							<li>Repeatable</li>
							<li>Automatable</li>
							<li>Order independent</li>
							<li>Decoupled from implementation</li>
							<li>Facilitates changing production code (flexibility & design)</li>
							<li>Identifies bugs faster</li>
						</ul>
					</section>

					<section>
						<h4>Automated</h4>
						<img src="img/teamcity.png" style="width: 60%" /><br/>

						<a href="https://travis-ci.org/" target="_blank">Travis CI org. + GitHub live demo</a>
					</section>
					
					<section>
						<h4>Automated: build lifecycle</h4>
						<img src="img/devopsProcess.png" style="width: 125%" /><br/>
					</section>

					<section>
						<h4>Living Documentation</h4>
						<img src="img/livingdocumentation.png"/>
					</section>

					<section>
						<h4>Example of not coupled from implementation</h4>
						<script src="https://gist.github.com/Sch3lp/a712cb3bc2098253a2187d3ad26da431.js"></script>
					</section>
				</section>
				
				<section>
					<section>
						<h4>Test Driven Development (TDD)</h4>
						<img src="img/tdd.png" width="60%"/>
					</section>
				<section>
					<h4>What is refactoring?</h4>

					<blockquote>Changing the structure of code,<br/> without changing its behavior!</blockquote>

					<p style="font-size: 20pt; margin-top: 40px;">
					Would you feel safe enough without tests?
					</p>
				</section>
				</section>

				<section>
					<section  data-background="img/abugslife.jpg">
						<h4>TDD: "bugfix" edge case</h4>
						Live Demo in <strong>Java</strong>
					</section>
					<section>
						<h4>Unit testing in Java</h4>
						<p>
							<a href="https://junit.org/junit5/docs/current/user-guide/#writing-tests" target="_blank"><img src="img/junit5-logo.png" alt="junit5 logo" /></a>
						</p>

						<pre><code>
		class FirstJUnit5Tests {

			@Test
			void myFirstTest() {
				assertEquals(2, 1 + 1);
			}
		
		}
						</code></pre>

					</section>
				</section>
				
				<section>
					<section>
						<h4>Exercise: Legacy code in <strong>Java</strong></h4>
						<a href="https://github.com/Sch3lp/tdd-course-exercise-2">Legacy Code exercise</a>
					</section>
					<section>
						<img src="img/working.jpg"
							width="45%" 
							alt="my code is working, I don't know why?"/>
					</section>
				</section>

				<section>
					<section data-background="img/mob_programming.jpg">
						&nbsp;
					</section>
					<section>
						<h4>Code Retreat exercise</h4>
						<a href="https://github.com/SoftwareSandbox/coderetreat-java8">Java</a><br/>
						<a href="https://github.com/SoftwareSandbox/coderetreat-js">JavaScript</a><br/>
						<a href="https://github.com/SoftwareSandbox/coderetreat-elm">Elm</a><br/>
						<a href="https://github.com/SoftwareSandbox/coderetreat-kotlin">Kotlin</a><br/>
						<a href="https://github.com/SoftwareSandbox/gdcr16-csharp">C# .NET</a><br/>
						<a href="https://github.com/SoftwareSandbox/gdcr16-php">PHP</a><br/>

						<p>
							&raquo;&nbsp;&nbsp;<strong><a href="http://oss.jahed.io/agility/timer.html" target="_blank">Mob Timer</a></strong>
						</p>
					</section>
					<section style="font-size: 20pt;">
					<ul>
						<li>Write exactly one new test. It should be the smallest test which seems to point in the direction of a solution</li>
						<li>Run the test to make sure it fails</li>
						<li>Make the test from (1) pass by writing the least amount of implementation code you can <strong>IN THE TEST METHOD</strong>.</li>
						<li>Refactor to remove duplication or otherwise as required to improve the design. Be strict about the refactorings. Only introduce new abstractions (methods, classes, etc) when they will help to improve the design of the code.</li>
					</ul>
						<em>Specifically</em>:
					<ul>
						<li><strong>ONLY</strong> Extract a new method if there is sufficient code duplication in the test methods. When extracting a method, initially extract it to the test class (don't create a new class yet).</li>
						<li><strong>ONLY</strong> create a new class when a clear grouping of methods emerges and when the test class starts to feel crowded or too large.</li>
					</ul>
					Repeat the process by writing another test (go back to step #1).
					</section>
				</section>

				<section>
					<section>
						<h4>Kinds of tests</h4>
						<img src="img/testniveaus.png"/>
						<p>&nbsp;</p>
					</section>
					<section>
						<h4 style="background-color: green">Unit Testing</h4>
						<ul>
						<li>Independent of external sources (db, webservice, ...)</li>
						<li>Fast!</li>
						<li>LOTS of tests</li>
						<li>Tests both Edge Cases &amp; Happy Path</li>
						<li><i>Active enemy of your production code</i></li>
						</ul>
					</section>
					<section>
						<h4 style="background-color: orange">Integration Testing</h4>
						<ul>
						<li>Tests are integrated with external sources (db, webservice, ...)</li>
						<li>Tests integration between <strong>two different layers</strong></li>
						<li>Generally slower than unit tests, but should still be fast</li>
						<li>Usually less test cases than unit tests</li>
						</ul>
					</section>
					<section>
						<h4 style="background-color: orange">Integration Testing</h4>
						Test doubles<br/>
						<img src="img/testdouble.jpg" width="75%">
					</section>
					<section>
						<h4 style="background-color: orange">Integration Testing</h4>

						<p>
						<ul>
						<li>Mocks</li>
						<li>Stubs</li>
						<li>Spies</li>
						</ul>
						</p>

						<p>
						Read <a href="http://martinfowler.com/articles/mocksArentStubs.html" target="_blank">Mocks aren't stubs</a> by Martin Fowler.
						</p>
					</section>
					<section>
						<h4 style="background-color: red">End to End Testing</h4>
						<ul>
						<li>Tests the entire application!</li>
						<li>Usually slower</li>
						<li>More difficult to maintain</li>
						<li>Tests integration between <strong>all</strong> layers</li>
						</ul>
					</section>
					<section>
						<h4>Demo</h4>
						You could follow along in<br/>
						<a href="https://github.com/sch3lp/tdd-course/tree/gh-pages/labs/integrationtest-livedemo" target="_blank">tdd-course/labs/integrationtest-livedemo</a>
					</section>
				</section>
				<section>
					<section>
						<h4>Exercise: Integrated TDD with <strong>Java</strong></h4>
						<a href="https://github.com/sch3lp/tdd-course-exercise-3">And now it's your turn again!</a>
						<p>
							To help you develop faster:<br/>
							<a href="https://github.com/Sch3lp/ProductivityWithShortcuts">Shortcuts cursus met IntelliJ</a><br/>
						</p>
					</section>
					<section>
						<h4>Unit Testing in Java</h4>
						<p>
							<a href="https://junit.org/junit5/docs/current/user-guide/#writing-tests" target="_blank">Writing tests in JUnit 5</a><br/>
							<a href="http://joel-costigliola.github.io/assertj/" target="_blank">http://joel-costigliola.github.io/assertj/</a>
						</p>

						<pre><code>
    import static org.assertj.core.api.Assertions.assertThat;

    @Test
    void methodShouldReturnTrueIfBehaviourCorrect() {
    	bool result = method();
        assertThat(result).isTrue();
    }
						</code></pre>
					</section>
					<section>
						<h4>Unit Testing in Java</h4>
						<p>
							How to run? Use your IDE:<br/>
							<img src="img/howtorun_java.png" alt="How to run java tests"/>
						</p>
					</section>

				</section>

				<section>	
					<section>
						<h2>Resources</h2>

						<span style="font-size: 20pt;">
						<ul>
						<li><a href="http://butunclebob.com/files/downloads/Bowling%20Game%20Kata.ppt">Bowling Game Kata</a> (Uncle Bob)</li>
						<li><a href="https://github.com/sch3lp/tdd-course">https://github.com/sch3lp/tdd-course</a></li>
						<li><a href="http://codemanship.co.uk/parlezuml/blog/?postid=987">Classic TDD or 'London School'?</a></li>
						<li><a href="http://www.inf.fu-berlin.de/inst/ag-se/teaching/K-CCD-2014/Clean-Code-summary.pdf">The Essence of clean code</a></li>
						<li><a href="https://www.codeschool.com/">Code School</a>, <a href="https://www.codewars.com/">Code Wars</a> and others</li>
						</ul>
						</span>
					</section>
					<section>
						<h4>Books</h4>

						<p>Growing Object-Oriented Software Guided by Tests</p>
						<img src="img/growing.jpg"/>
					</section>
					<section>
						<h4>Books</h4>

						<p>Clean Code</p>
						<img src="img/cleancode.jpg" width="40%" />
					</section>
					<section>
						<h4>Books</h4>

						<p>Working Effectively With Legacy Code</p>
						<img src="img/legacycode.jpg"/>
					</section>
				</section>

				<section data-background="img/watgeleerd.jpg">
						<h2>What did we learn?</h2>
						<section>
						<blockquote class="darker">
							<ul>
								<li>What TDD is all about</li>
								<li>How to Unit Test in a variety of programming languages</li>
								<li>How Unit Testing can help with a legacy codebase</li>
								<li>The different levels of tests</li>
							</ul>
						</blockquote>
						</section>
						<section>
						<blockquote class="darker">
							Test Driven Development:<br/>
							<br/>
							<ul>
							<li>Improves the design of your code (loose coupling, single responsibility)</li>
							<li>Improves readability of your code</li>
							<li>Is a safety net to work with Legacy code</li>
							</ul>
						</blockquote>
						</section>
				</section>

				<section data-background="img/thatsall.png">

			</div>
		</div>
		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>
			// More info https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				history: true,

				// More info https://github.com/hakimel/reveal.js#dependencies
				dependencies: [
					{ src: 'plugin/markdown/marked.js' },
					{ src: 'plugin/markdown/markdown.js' },
					{ src: 'plugin/notes/notes.js', async: true },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } }
				]
			});

			document.querySelectorAll('code').forEach(function(block) {
				block.className =  block.className + ' php';
			});
		</script>
	</body>
</html>
